<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Auto Warriors Game: Auto Warriors Game</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Auto Warriors Game
   </div>
   <div id="projectbrief">A turn-based strategy game written in C++.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Поиск',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Auto Warriors Game </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a></p>
<p>Тестовое задание в Леста Академию. Выполнялось <b>неделю</b>. Игра - консольное приложение на C++. Весь <a href="https://albionvisual.github.io/AutoWarriors-game/">код документирован</a> при помощи Doxygen. Реализация имеет особенность: почти все данные отделены от логики игры, что позволяет геймдизайнеру легко изменять поведение персонажей изменением настроек (констант в коде). Условие задания описано <a href="https://github.com/AlbionVisual/AutoWarriors-game/blob/main/docs/Тестовое_задание_Программирование.pdf">здесь</a>.</p>
<p><a href="https://github.com/user-attachments/assets/f43fd243-f2c7-4553-9da5-01789f1373fd">https://github.com/user-attachments/assets/f43fd243-f2c7-4553-9da5-01789f1373fd</a></p>
<p>Подробнее описано ниже.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
Структура проекта</h1>
<div class="fragment"><div class="line">social/             # Хранение визуальных материалов</div>
<div class="line">docs/               # Хранение документации проекта</div>
<div class="line">src/                # Исходный код</div>
<div class="line">    characters/     # Классы персонажей (игрок + враги)</div>
<div class="line">    data/           # Данные, из которых строится игра (модификации здесь влияют на всю игру)</div>
<div class="line">    utils/          # Вспомогательные функции (кроссплатформенная работа с консолью)</div>
<div class="line">    visualisation/  # Классы для отрисовки игры в консоли</div>
<div class="line">    main.cpp        # Входная точка проекта</div>
<div class="line">README.md           # Вы находитесь здесь)</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Подготовка к работе над исходным кодом</h1>
<ol type="1">
<li><p class="startli">Склонируйте репозиторий:</p>
<div class="fragment"><div class="line">git clone https://github.com/AlbionVisual/AutoWarriors-game</div>
<div class="line">cd AutoWarriors-game</div>
</div><!-- fragment --></li>
<li>Удалите папку docs (она генерируется вручную и при изменении документации в самом коде, эта папка начнёт содержать неактуальную информацию). Доступ к документации у вас всё равно останется через <a href="https://albionvisual.github.io/AutoWarriors-game/">GitHub Pages</a>.</li>
<li>Любым способом скомпилируйте всю src директорию как C++ проект (крайне необходимо включить все .cpp файлы в сборщик, иначе ничего не запустится).</li>
</ol>
<h1 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
Технологии</h1>
<div class="fragment"><div class="line">C++</div>
<div class="line">Doxygen</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Auto Warriors Game</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Правила</h2>
<p>Игрок выбирает начального персонажа, а вместе с ним и бонус первого уровня этого персонажа. У выбранного персонажа сразу появляется оружие и начальные характеристики. Значения каждой из характеристик, а также бонусов расписаны в <a href="https://github.com/AlbionVisual/AutoWarriors-game/blob/main/docs/Тестовое_задание_Программирование.pdf">условии</a>. Ловкость обозначения как agility, выносливость как endurance, сила как strength. Также необходимо различать вид оружия и тип его урона, но эти характеристики скрыты от игрока в виду их сложности и маловлиятельности.</p>
<p>После выбора первого персонажа и задания начальных характеристик создаётся случайный враг с заданными характеристиками и наградой. Далее высвечивается единая таблица с характеристиками всех персонажей. В первой строке - названия, во второй - характеристики игрока, в третьей - характеристики врага, с которым идёт бой, в четвёртой и т. д. все побеждённые враги (у них будет здоровье в значении 0).</p>
<p><img src="https://github.com/user-attachments/assets/5670f49d-d94a-421c-991d-3dc90588a065" alt="Game-start" class="inline"/></p>
<p>После создания первого игрока сразу запускается первый бой. Надпись You --&gt; Enemy показывает состояние боя. Стрелка указывает в направлении удара. Если урон был нанесён, то слева от игрока (либо справа от врага) появляется соответствующая надпись с количеством снятого здоровья. Также обновляется и здоровье в самой таблице. Так, если в таблице здоровье у какого-то из персонажей станет нулём, бой закончится. Если 0 у игрока, то вы проиграли. Если ноль у врага, то включается выбор наград.</p>
<p>Во время боя также появляются сообщения. Каждое сообщение свидетельствует либо о промахнувшейся атаке, либо об использовании какой-то способности, будь то у врага, либо у игрока. Также во время боя все изменяющиеся характеристики будут подсвечиваться на секунду разными цветами: если изменение в положительную сторону - зелёным, если в отрицательную - красным.</p>
<p><a href="https://github.com/user-attachments/assets/7aea1a6f-47b3-4066-967b-834f9815a7e3">https://github.com/user-attachments/assets/7aea1a6f-47b3-4066-967b-834f9815a7e3</a></p>
<p>После боя на месте сообщений появятся надписи о выборе дополнительного класса для игрока, а также выбора оружия (оставить своё оружие, либо поднять с побеждённого врага).</p>
<p>Всего может быть только 5 боёв, причём в последних двух не спрашивается повышение класса. Если игрок победит все 5 раз, то высветится надпись о победе.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Как работает игра изнутри</h2>
<p>Проект разбивается на 4 важные части: персонажи, данные, утилиты и визуализация. Каждой соответствует одна папка.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
Данные (папка data)</h3>
<p>В этой папке хранятся все настраиваемые константы.</p>
<p>В коде используются перечисления, обозначающие каждый класс персонажа, врага, а также обозначающие определённые эффекты (постэффекты), чтобы можно было ссылаться в соотношениях (такой-то враг имеет такой-то эффект / постэффект). Из условия видно, что и у игрока, и у каких-то врагов могут совпадать способности. Чтобы не переписывать одни и те же методы, функции эффектов и постэффектов общие.</p>
<p>В чём разница эффектов и постэффектов? В условии уже указывается на их различие. Эффекты применяются перед ударом вашего персонажа, а постэффекты при получении урона вашим персонажем. Каждая описываемая способность будет либо эффектом, либо постэффектом.</p>
<p>Также различается частота использования эффектов: есть бонусы +1 к какой-то характеристике и они, явно, должны применяться только раз не только за бой, но и за всю игру (если игрок выбирает этот бонус). Для реализации этого бонуса тоже будет исопльзоваться эффект, но с отслеживанием количества использования. Такие использованные эффекты отслеживаются в каждом из объектов персонажей по-отдельности.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
Персонажи (папка characters)</h3>
<p>Персонажи делятся на два типа: игрок и враг. Каждому соответствует отдельный класс (Player и Enemy соответственно). Оба класса наследуются от класса Pawn, который обладает общими для них свойствами. Player, в сравнении с Enemy, содержит немного большую функциональность (поэтому в его методах больше кода, но функциональность по сути остаётся одной и той же). Pawn содержит основной метод удара Pawn::attacked_by(const Pawn&amp;, int), который считает все эффекты бъющего, вероятность попадания, а затем и постэффекты цели.</p>
<p>И игрок, и враг имеют свои классы, описанные в <a href="https://github.com/AlbionVisual/AutoWarriors-game/blob/main/docs/Тестовое_задание_Программирование.pdf">условии</a>. К каждому классу игрока поставляются: начальное оружие, эффекты на определённом уровне класса (не путать с постэффектами - способностями персонажа при атаке врага), постэффекты на определённом уровне класса. Для каждого класса врагов определяются все его характеристики включая нестандартный урон от оружия и награду за победу, применяемые эффекты и постэффекты (если таковые есть).</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Утилиты (папка utils)</h3>
<p>Здесь лежат лишь две функции-помощницы, которые стирают консоль и перекрашивают выводимый текст соответственно. Реализация этих функций разнится на разных системах из-за поставляемого API, поэтому для каждой функции предложено по две реализации.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Визуализация (папка visualisaion)</h3>
<p>Самые важные два класса: Game (отвечает за порядок проведения всей игры) и GameDrawer (отвечает за отрисовку и расскраску таблицы, битвы и сообщений). </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Создано системой <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
